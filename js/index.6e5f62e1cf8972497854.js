!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=152)}([function(t,e){t.exports=Object.freeze({DELETE_ARTICLE_ERROR_PREFIX:"Error deleting article",GET_ARTICLES_ERROR_PREFIX:"Error getting saved articles",GET_USER_PROFILE_ERROR_PREFIX:"Error getting user’s profile",SAVE_ARTICLE_ERROR_PREFIX:"Error saving article",SEARCH_ERROR_PREFIX:"Error searching for articles",SIGN_IN_ERROR_PREFIX:"Error during login",SIGN_UP_ERROR_PREFIX:"Error during sign-up",HUMAN_READABLE_DELETE_ARTICLE_PAGE_ERROR:"Не удалось удалить статью — попробуйте ещё раз",HUMAN_READABLE_GENERIC_ERROR:"Ошибка соединения — попробуйте ещё раз",HUMAN_READABLE_EMAIL_TAKEN:"Пользователь с таким email уже существует",HUMAN_READABLE_INVALID_USERNAME_OR_PASSWORD_ERROR:"Неправильные почта или пароль",HUMAN_READABLE_LOAD_NAME_ERROR:"Возникла ошибка загрузки профиля — попробуйте перезагрузить страницу",HUMAN_READABLE_LOAD_SAVED_PAGE_ERROR:"Возникла ошибка — попробуйте перезагрузить страницу",HUMAN_READABLE_SAVE_ARTICLE_PAGE_ERROR:"Не удалось сохранить статью — попробуйте ещё раз",HUMAN_READABLE_SEARCH_ERROR:"Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз.",HUMAN_READABLE_SEARCH_PHRASE_EMPTY:"Введите запрос",VALIDATION_GENERIC_ERROR:"Проверьте данные в поле",VALIDATION_NAME_LENGTH_MISMATCH:"Должно быть от 2 до 30 символов",VALIDATION_PASSWORD_LENGTH_MISMATCH:"Должно быть от 8 до 2048 символов",VALIDATION_TYPE_MISMATCH:"Неправильный формат email",VALIDATION_VALUE_MISSING:"Это обязательное поле"})},function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,r(113))},function(t,e,r){var n=r(1),o=r(57),i=r(5),s=r(46),a=r(60),u=r(73),c=o("wks"),l=n.Symbol,h=u?l:l&&l.withoutSetter||s;t.exports=function(t){return i(c,t)||(a&&i(l,t)?c[t]=l[t]:c[t]=h("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return u}));var n=r(0),o=r.n(n);function i(t,e){null!=t&&(e?t.removeAttribute("disabled"):t.setAttribute("disabled","true"))}function s(t,e){return"error-".concat(t,"-").concat(e)}function a(t,e){if(void 0!==t)return t.valid?"":t.valueMissing?o.a.VALIDATION_VALUE_MISSING:t.typeMismatch?o.a.VALIDATION_TYPE_MISMATCH:t.tooShort||t.tooLong?"password"===e?o.a.VALIDATION_PASSWORD_LENGTH_MISMATCH:o.a.VALIDATION_NAME_LENGTH_MISMATCH:o.a.VALIDATION_GENERIC_ERROR}function u(t,e){if(null!==e&&""!==e){var r=document.querySelector("#"+e);null!==r&&(r.textContent=t)}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,r){var n=r(56),o=r(14),i=r(116);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,r){var n=r(13),o=r(72),i=r(7),s=r(45),a=Object.defineProperty;e.f=n?a:function(t,e,r){if(i(t),e=s(e,!0),i(r),o)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){"use strict";function n(t,e,r){e?t.classList.remove(r):t.classList.add(r)}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(52);class n{constructor(){this._data=null,this._error=null}get data(){return this._data}set data(t){this._data=t,t&&(this._error=null)}get error(){return this._error}set error(t){this._error=t,t&&(this._data=null)}}},function(t,e,r){var n=r(13),o=r(9),i=r(31);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(3);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,r){var n=r(1),o=r(12),i=r(5),s=r(58),a=r(61),u=r(32),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,r,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||i(r,"name")||o(r,"name",e),l(r).source=h.join("string"==typeof e?e:"")),t!==n?(u?!p&&t[e]&&(c=!0):delete t[e],c?t[e]=r:o(t,e,r)):c?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||a(this)}))},function(t,e,r){"use strict";r(16),r(17),r(8),r(128),r(99);r.d(e,"a",(function(){return n}));class n{constructor(t,e,r,n,o,i,s){var a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;"undefined"!==r&&(this.description=r),this.keyword=t,this.publishedAt=n,this.source=o,this.title=e,this.url=i,this.urlToImage=s,this._isSaved=a,this._serverArticleId=u,this._articleId="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))}get articleId(){return this._articleId}get isSaved(){return this._isSaved}set isSaved(t){this._isSaved!==t&&(this._isSaved=t,this._onIsSavedChanged&&this._onIsSavedChanged(this))}get serverArticleId(){return this._serverArticleId}set serverArticleId(t){this._serverArticleId=t}get onIsSavedChanged(){return this._onIsSavedChanged}set onIsSavedChanged(t){this._onIsSavedChanged=t}cleanup(){this._onIsSavedChanged=null}}},function(t,e,r){"use strict";var n=r(20),o=r(1),i=r(24),s=r(27),a=r(13),u=r(60),c=r(73),l=r(3),h=r(5),p=r(94),d=r(6),f=r(7),_=r(30),v=r(28),m=r(45),g=r(31),y=r(51),b=r(95),E=r(62),S=r(125),C=r(80),x=r(48),A=r(9),w=r(75),R=r(12),P=r(14),I=r(57),L=r(47),M=r(33),O=r(46),k=r(2),B=r(96),T=r(126),N=r(35),V=r(32),j=r(97).forEach,U=L("hidden"),F=k("toPrimitive"),D=V.set,H=V.getterFor("Symbol"),G=Object.prototype,q=o.Symbol,z=i("JSON","stringify"),X=x.f,$=A.f,W=S.f,K=w.f,Y=I("symbols"),Q=I("op-symbols"),J=I("string-to-symbol-registry"),Z=I("symbol-to-string-registry"),tt=I("wks"),et=o.QObject,rt=!et||!et.prototype||!et.prototype.findChild,nt=a&&l((function(){return 7!=y($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=X(G,e);n&&delete G[e],$(t,e,r),n&&t!==G&&$(G,e,n)}:$,ot=function(t,e){var r=Y[t]=y(q.prototype);return D(r,{type:"Symbol",tag:t,description:e}),a||(r.description=e),r},it=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof q},st=function(t,e,r){t===G&&st(Q,e,r),f(t);var n=m(e,!0);return f(r),h(Y,n)?(r.enumerable?(h(t,U)&&t[U][n]&&(t[U][n]=!1),r=y(r,{enumerable:g(0,!1)})):(h(t,U)||$(t,U,g(1,{})),t[U][n]=!0),nt(t,n,r)):$(t,n,r)},at=function(t,e){f(t);var r=v(e),n=b(r).concat(ht(r));return j(n,(function(e){a&&!ut.call(r,e)||st(t,e,r[e])})),t},ut=function(t){var e=m(t,!0),r=K.call(this,e);return!(this===G&&h(Y,e)&&!h(Q,e))&&(!(r||!h(this,e)||!h(Y,e)||h(this,U)&&this[U][e])||r)},ct=function(t,e){var r=v(t),n=m(e,!0);if(r!==G||!h(Y,n)||h(Q,n)){var o=X(r,n);return!o||!h(Y,n)||h(r,U)&&r[U][n]||(o.enumerable=!0),o}},lt=function(t){var e=W(v(t)),r=[];return j(e,(function(t){h(Y,t)||h(M,t)||r.push(t)})),r},ht=function(t){var e=t===G,r=W(e?Q:v(t)),n=[];return j(r,(function(t){!h(Y,t)||e&&!h(G,t)||n.push(Y[t])})),n};(u||(P((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=O(t),r=function(t){this===G&&r.call(Q,t),h(this,U)&&h(this[U],e)&&(this[U][e]=!1),nt(this,e,g(1,t))};return a&&rt&&nt(G,e,{configurable:!0,set:r}),ot(e,t)}).prototype,"toString",(function(){return H(this).tag})),P(q,"withoutSetter",(function(t){return ot(O(t),t)})),w.f=ut,A.f=st,x.f=ct,E.f=S.f=lt,C.f=ht,B.f=function(t){return ot(k(t),t)},a&&($(q.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),s||P(G,"propertyIsEnumerable",ut,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),j(b(tt),(function(t){T(t)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(J,e))return J[e];var r=q(e);return J[e]=r,Z[r]=e,r},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(h(Z,t))return Z[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(t,e){return void 0===e?y(t):at(y(t),e)},defineProperty:st,defineProperties:at,getOwnPropertyDescriptor:ct}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:lt,getOwnPropertySymbols:ht}),n({target:"Object",stat:!0,forced:l((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(_(t))}}),z)&&n({target:"JSON",stat:!0,forced:!u||l((function(){var t=q();return"[null]"!=z([t])||"{}"!=z({a:t})||"{}"!=z(Object(t))}))},{stringify:function(t,e,r){for(var n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e,(d(e)||void 0!==t)&&!it(t))return p(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!it(e))return e}),o[1]=e,z.apply(null,o)}});q.prototype[F]||R(q.prototype,F,q.prototype.valueOf),N(q,"Symbol"),M[U]=!0},function(t,e,r){"use strict";var n=r(20),o=r(13),i=r(1),s=r(5),a=r(6),u=r(9).f,c=r(77),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};c(p,l);var d=p.prototype=l.prototype;d.constructor=p;var f=d.toString,_="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=f.call(t);if(s(h,t))return"";var r=_?e.slice(7,-1):e.replace(v,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n{constructor(t){this._model=t}get onCleanup(){return this._onCleanup}set onCleanup(t){this._onCleanup=t}get onNotifyPropertyChanged(){return this._onNotifyPropertyChanged}set onNotifyPropertyChanged(t){this._onNotifyPropertyChanged=t}get onObservableCollectionItemAdded(){return this._onObservableCollectionItemAdded}set onObservableCollectionItemAdded(t){this._onObservableCollectionItemAdded=t}cleanup(){this._model=null,this.onCleanup&&this.onCleanup()}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(8),r(26);var n=r(52),o=r(53);function i(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r||401!==t.status){var i="".concat(e,": ").concat(t.status,", ").concat(t.statusText),s=new n.a(i,t.status,t.statusText);return t.json().then(t=>(s.serverMessage=t.message,Promise.reject(s))).catch(t=>Promise.reject(t))}Object(o.a)()}},function(t,e,r){var n=r(1),o=r(48).f,i=r(12),s=r(14),a=r(58),u=r(77),c=r(64);t.exports=function(t,e){var r,l,h,p,d,f=t.target,_=t.global,v=t.stat;if(r=_?n:v?n[f]||a(f,{}):(n[f]||{}).prototype)for(l in e){if(p=e[l],h=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!c(_?l:f+(v?".":"#")+l,t.forced)&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&i(p,"sham",!0),s(r,l,p,t)}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(18);class o extends n.a{constructor(t){super(null),this._pairedPopup=t}get onFormSubmit(){return this._onFormSubmit}set onFormSubmit(t){this._onFormSubmit=t}get errorMessage(){return this._errorMessage}set errorMessage(t){this._errorMessage!==t&&(this._errorMessage=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("errorMessage"))}get isBusy(){return this._isBusy}set isBusy(t){this._isBusy!==t&&(this._isBusy=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isBusy"))}get isShown(){return this._isShown}set isShown(t){this._isShown!==t&&(this._isShown=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isShown"))}set pairedPopup(t){this._pairedPopup=t}showPairedPopupCommand(){this._isBusy||this.showPairedPopup()}submitCommand(t){this.errorMessage="",this.isBusy=!0,this._onFormSubmit&&this._onFormSubmit(t)}cleanup(){super.cleanup()}showPairedPopup(){this._pairedPopup&&(this.isShown=!1,this._pairedPopup.isShown=!0)}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(18);class n{constructor(t,e){this._dataContext=t,this._htmlMarkup=e}get dataContext(){return this._dataContext}get htmlMarkup(){return this._htmlMarkup}cleanup(){this._dataContext.onCleanup=null,this._dataContext.onNotifyPropertyChanged=null,this._dataContext.onObservableCollectionItemAdded=null,this._dataContext=null,this._htmlMarkup.remove()}subscribeToCleanup(t){this._dataContext.onCleanup=t}subscribeToVmCollectionItemAdded(t){this._dataContext.onObservableCollectionItemAdded=t}subscribeToVmPropertyChanged(t){this._dataContext.onNotifyPropertyChanged=t}}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){var n=r(78),o=r(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t])||i(o[t]):n[t]&&n[t][e]||o[t]&&o[t][e]}},function(t,e,r){"use strict";var n=r(28),o=r(137),i=r(36),s=r(32),a=r(101),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,r){"use strict";var n,o,i,s,a=r(20),u=r(27),c=r(1),l=r(24),h=r(81),p=r(14),d=r(82),f=r(35),_=r(83),v=r(6),m=r(43),g=r(65),y=r(23),b=r(61),E=r(66),S=r(67),C=r(87),x=r(88).set,A=r(120),w=r(92),R=r(121),P=r(93),I=r(122),L=r(32),M=r(64),O=r(2),k=r(123),B=O("species"),T="Promise",N=L.get,V=L.set,j=L.getterFor(T),U=h,F=c.TypeError,D=c.document,H=c.process,G=l("fetch"),q=P.f,z=q,X="process"==y(H),$=!!(D&&D.createEvent&&c.dispatchEvent),W=M(T,(function(){if(!(b(U)!==String(U))){if(66===k)return!0;if(!X&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!U.prototype.finally)return!0;if(k>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[B]=e,!(t.then((function(){}))instanceof e)})),K=W||!S((function(t){U.all(t).catch((function(){}))})),Y=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},Q=function(t,e,r){if(!e.notified){e.notified=!0;var n=e.reactions;A((function(){for(var o=e.value,i=1==e.state,s=0;n.length>s;){var a,u,c,l=n[s++],h=i?l.ok:l.fail,p=l.resolve,d=l.reject,f=l.domain;try{h?(i||(2===e.rejection&&et(t,e),e.rejection=1),!0===h?a=o:(f&&f.enter(),a=h(o),f&&(f.exit(),c=!0)),a===l.promise?d(F("Promise-chain cycle")):(u=Y(a))?u.call(a,p,d):p(a)):d(o)}catch(t){f&&!c&&f.exit(),d(t)}}e.reactions=[],e.notified=!1,r&&!e.rejection&&Z(t,e)}))}},J=function(t,e,r){var n,o;$?((n=D.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),c.dispatchEvent(n)):n={promise:e,reason:r},(o=c["on"+t])?o(n):"unhandledrejection"===t&&R("Unhandled promise rejection",r)},Z=function(t,e){x.call(c,(function(){var r,n=e.value;if(tt(e)&&(r=I((function(){X?H.emit("unhandledRejection",n,t):J("unhandledrejection",t,n)})),e.rejection=X||tt(e)?2:1,r.error))throw r.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){x.call(c,(function(){X?H.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},rt=function(t,e,r,n){return function(o){t(e,r,o,n)}},nt=function(t,e,r,n){e.done||(e.done=!0,n&&(e=n),e.value=r,e.state=2,Q(t,e,!0))},ot=function(t,e,r,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===r)throw F("Promise can't be resolved itself");var o=Y(r);o?A((function(){var n={done:!1};try{o.call(r,rt(ot,t,n,e),rt(nt,t,n,e))}catch(r){nt(t,n,r,e)}})):(e.value=r,e.state=1,Q(t,e,!1))}catch(r){nt(t,{done:!1},r,e)}}};W&&(U=function(t){g(this,U,T),m(t),n.call(this);var e=N(this);try{t(rt(ot,this,e),rt(nt,this,e))}catch(t){nt(this,e,t)}},(n=function(t){V(this,{type:T,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(U.prototype,{then:function(t,e){var r=j(this),n=q(C(this,U));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=X?H.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Q(this,r,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new n,e=N(t);this.promise=t,this.resolve=rt(ot,t,e),this.reject=rt(nt,t,e)},P.f=q=function(t){return t===U||t===i?new o(t):z(t)},u||"function"!=typeof h||(s=h.prototype.then,p(h.prototype,"then",(function(t,e){var r=this;return new U((function(t,e){s.call(r,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof G&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return w(U,G.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:W},{Promise:U}),f(U,T,!1,!0),_(T),i=l(T),a({target:T,stat:!0,forced:W},{reject:function(t){var e=q(this);return e.reject.call(void 0,t),e.promise}}),a({target:T,stat:!0,forced:u||W},{resolve:function(t){return w(u&&this===i?U:this,t)}}),a({target:T,stat:!0,forced:K},{all:function(t){var e=this,r=q(e),n=r.resolve,o=r.reject,i=I((function(){var r=m(e.resolve),i=[],s=0,a=1;E(t,(function(t){var u=s++,c=!1;i.push(void 0),a++,r.call(e,t).then((function(t){c||(c=!0,i[u]=t,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise},race:function(t){var e=this,r=q(e),n=r.reject,o=I((function(){var o=m(e.resolve);E(t,(function(t){o.call(e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(t,e){t.exports=!1},function(t,e,r){var n=r(76),o=r(49);t.exports=function(t){return n(o(t))}},function(t,e,r){var n=r(1),o=r(100),i=r(25),s=r(12),a=r(2),u=a("iterator"),c=a("toStringTag"),l=i.values;for(var h in o){var p=n[h],d=p&&p.prototype;if(d){if(d[u]!==l)try{s(d,u,l)}catch(t){d[u]=l}if(d[c]||s(d,c,h),o[h])for(var f in i)if(d[f]!==i[f])try{s(d,f,i[f])}catch(t){d[f]=i[f]}}}},function(t,e,r){var n=r(49);t.exports=function(t){return Object(n(t))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n,o,i,s=r(115),a=r(1),u=r(6),c=r(12),l=r(5),h=r(47),p=r(33),d=a.WeakMap;if(s){var f=new d,_=f.get,v=f.has,m=f.set;n=function(t,e){return m.call(f,t,e),e},o=function(t){return _.call(f,t)||{}},i=function(t){return v.call(f,t)}}else{var g=h("state");p[g]=!0,n=function(t,e){return c(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,e){t.exports={}},function(t,e,r){var n=r(50),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(9).f,o=r(5),i=r(2)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e){t.exports={}},function(t,e,r){var n=r(43);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(1),o=r(100),i=r(135),s=r(12);for(var a in o){var u=n[a],c=u&&u.prototype;if(c&&c.forEach!==i)try{s(c,"forEach",i)}catch(t){c.forEach=i}}},function(t,e,r){"use strict";r(8),r(26),r(16),r(17),r(15);class n{constructor(t){this.date=t.publishedAt,this.image=t.urlToImage,this.keyword=t.keyword,this.link=t.url,this.source=t.source,this.text=t.description,this.title=t.title}}class o{constructor(t,e,r){this.email=e,this.name=t,this.password=r}}var i=r(0),s=r.n(i),a=r(19);r.d(e,"a",(function(){return c}));var u="https://api.divulge-uncommon.ru/";class c{constructor(){this._authToken=localStorage.getItem("token")}deleteArticleAsync(t){var e=u+"articles/".concat(t.serverArticleId);return fetch(e,this._createRequestParams("DELETE")).then(t=>{if(!t.ok&&404!==t.status)return Object(a.a)(t,s.a.DELETE_ARTICLE_ERROR_PREFIX,!0)})}getSavedArticlesAsync(){return fetch("https://api.divulge-uncommon.ru/articles",this._createRequestParams()).then(t=>t.ok?t.json():Object(a.a)(t,s.a.GET_ARTICLES_ERROR_PREFIX,!0))}getProfileAsync(){return fetch("https://api.divulge-uncommon.ru/users/me",this._createRequestParams()).then(t=>t.ok?t.json():Object(a.a)(t,s.a.GET_USER_PROFILE_ERROR_PREFIX))}loginAsync(t,e){var r=this._createRequestParams("POST"),n={email:t,password:e};return r.body=JSON.stringify(n),fetch("https://api.divulge-uncommon.ru/signin",r).then(t=>t.ok?t.json():Object(a.a)(t,s.a.SIGN_IN_ERROR_PREFIX)).then(t=>{this._authToken=t.token,localStorage.setItem("token",this._authToken)})}saveArticleAsync(t){var e=this._createRequestParams("POST"),r=new n(t);return e.body=JSON.stringify(r),fetch("https://api.divulge-uncommon.ru/articles",e).then(t=>t.ok?t.json():Object(a.a)(t,s.a.SAVE_ARTICLE_ERROR_PREFIX,!0))}signUpAsync(t){var e=this._createRequestParams("POST"),r=t.name,n=t.email,i=t.password,u=new o(r,n,i);return e.body=JSON.stringify(u),fetch("https://api.divulge-uncommon.ru/signup",e).then(t=>t.ok?t.json():Object(a.a)(t,s.a.SIGN_UP_ERROR_PREFIX,!0))}_createRequestParams(){var t={headers:{"Content-Type":"application/json"},method:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET"};return this._authToken&&(t.headers.Authorization="Bearer ".concat(this._authToken)),t}}},function(t,e,r){"use strict";r(16),r(17),r(25),r(105),r(8),r(26),r(69),r(38),r(29);var n=r(15),o=(r(39),r(55)),i=r(11),s=r(0),a=r.n(s);r.d(e,"a",(function(){return u}));class u{constructor(t){this._explorerApi=t,this._savedArticlesMap=new Map}get savedArticlesMap(){return this._savedArticlesMap}get onArticleBusyOperationCompleted(){return this._onArticleBusyOperationCompleted}set onArticleBusyOperationCompleted(t){this._onArticleBusyOperationCompleted=t}get onSavedArticlesChanged(){return this._onSavedArticlesChanged}set onSavedArticlesChanged(t){this._onSavedArticlesChanged=t}get onSavedArticlesLoadCompleted(){return this._onSavedArticlesLoadCompleted}set onSavedArticlesLoadCompleted(t){this._onSavedArticlesLoadCompleted=t}clearArticles(){var t=!0,e=!1,r=void 0;try{for(var n,o=this._savedArticlesMap.values()[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.cleanup()}}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}this._savedArticlesMap.clear()}loadSavedArticlesAsync(){var t=new i.a;return this._explorerApi.getSavedArticlesAsync().then(e=>{var r=function(t){var e=[];if(void 0===t||void 0===t.data||0===t.data.length)return e;var r=!0,o=!1,i=void 0;try{for(var s,a=t.data[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value,c=u._id,l=u.keyword,h=u.title,p=u.text,d=u.date,f=u.source,_=u.link,v=u.image,m=new n.a(l,h,p,d,f,_,v,!0,c);e.push(m)}}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(e);return r.forEach(t=>{t.onIsSavedChanged=this._articleIsSavedChangedHandler.bind(this),this._savedArticlesMap.set(t.articleId,t)}),t.data=r,t}).catch(e=>(t.error=e,t)).finally(()=>{this._onSavedArticlesLoadCompleted&&this._onSavedArticlesLoadCompleted(t)})}_articleIsSavedChangedHandler(t){t.isSaved?this._saveArticleAsync(t):this._deleteArticleAsync(t)}_deleteArticleAsync(t){return this._savedArticlesMap.has(t.articleId)?this._explorerApi.deleteArticleAsync(t).then(()=>{if(this._savedArticlesMap.delete(t.articleId),void 0===this._searchResults&&t.cleanup(),this._onSavedArticlesChanged){var e=new o.a(t.articleId,!1);this._onSavedArticlesChanged(e)}}).catch(e=>{t.isSaved=!0,alert(a.a.HUMAN_READABLE_DELETE_ARTICLE_PAGE_ERROR)}).finally(()=>{this._onArticleBusyOperationCompleted&&this._onArticleBusyOperationCompleted(t.articleId)}):Promise.resolve()}_saveArticleAsync(t){return this._savedArticlesMap.has(t.articleId)?Promise.resolve():this._explorerApi.saveArticleAsync(t).then(e=>{if(t.serverArticleId=e.data._id,this._savedArticlesMap.set(t.articleId,t),this._onSavedArticlesChanged){var r=new o.a(t.articleId,!0);this._onSavedArticlesChanged(r)}}).catch(e=>{t.isSaved=!1,alert(a.a.HUMAN_READABLE_SAVE_ARTICLE_PAGE_ERROR)}).finally(()=>{this._onArticleBusyOperationCompleted&&this._onArticleBusyOperationCompleted(t.articleId)})}}},function(t,e){t.exports=Object.freeze({DEFAULT_LOUGOUT_MESSAGE:"Выход",SAVED_ARTICLES_LOAD_MESSAGE:"Идёт загрузка новостей…",WAIT_MESSAGE:"Подождите…"})},function(t,e,r){"use strict";var n=r(22),o=(r(16),r(17),r(25),r(8),r(38),r(29),r(4));class i{constructor(t){this._form=t,this._inputs=[],this._submitButton=null;for(var e=0,r=[...t.elements];e<r.length;e++){var n=r[e];"submit"===n.type?this._submitButton=n:this._inputs.push(n)}this._subscribeToUiEvents()}get submitButton(){return this._submitButton}resetErrors(){var t=!0,e=!1,r=void 0;try{for(var n,i=this._inputs[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value,a=o.b(this._form.name,s.name);o.d("",a)}}catch(t){e=!0,r=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw r}}this._updateSubmitButtonState()}setFormBusyState(t,e,r){this._submitButton.textContent=t?e:r,o.a(this._submitButton,!t);var n=!0,i=!1,s=void 0;try{for(var a,u=this._inputs[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value;o.a(c,!t)}}catch(t){i=!0,s=t}finally{try{n||null==u.return||u.return()}finally{if(i)throw s}}}_onInputContentChanged(t){var e=t.target;if(void 0!==e){var r=e.validity,n=o.b(this._form.name,e.name),i=o.c(r,e.name);o.d(i,n),this._updateSubmitButtonState()}}_subscribeToUiEvents(){this._inputs&&(this._onInputContentChanged=this._onInputContentChanged.bind(this),this._inputs.forEach(t=>t.addEventListener("input",this._onInputContentChanged)))}_unsubscribeFromUiEvents(){this._inputs&&this._inputs.forEach(t=>t.removeEventListener("input",this._onInputContentChanged))}_updateSubmitButtonState(){if(null!==this._submitButton){var t=!0,e=!0,r=!1,n=void 0;try{for(var i,s=this._inputs[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){if(!i.value.validity.valid){t=!1;break}}}catch(t){r=!0,n=t}finally{try{e||null==s.return||s.return()}finally{if(r)throw n}}o.a(this._submitButton,t)}}}r(21);var s=r(41),a=r.n(s),u=r(10);r.d(e,"a",(function(){return c}));class c extends n.a{constructor(t,e,r){super(t,e),super.subscribeToCleanup(this._onVmCleanup.bind(this)),super.subscribeToVmPropertyChanged(this._onVmPropertyChanges.bind(this)),r&&(this._form=r,this._formValidator=new i(r),this._submitButtonNormalText=this._formValidator.submitButton.textContent,this._submitErrorMessage=document.querySelector("#error-".concat(r.name))),this._showPairedPopupButton=super.htmlMarkup.querySelector(".popup__textual-button"),this._onPopupDeviceEvent=this._onPopupDeviceEvent.bind(this),this._onShowPairedPopupClick=this._onShowPairedPopupClick.bind(this),this._subscribeToUiEvents=this._subscribeToUiEvents.bind(this),this._unsubscribeFromUiEvents=this._unsubscribeFromUiEvents.bind(this)}_onPopupDeviceEvent(t){super.dataContext.isBusy||t&&(27===t.keyCode||t.target.classList.contains("popup")||t.target.classList.contains("popup__close"))&&(super.dataContext.isShown=!1,this._unsubscribeFromUiEvents())}_onShowPairedPopupClick(){super.dataContext.showPairedPopupCommand()}_onVmCleanup(){this._formValidator&&this._formValidator.cleanup(),this._unsubscribeFromUiEvents(),super.cleanup()}_onVmPropertyChanges(t){switch(t){case"errorMessage":this._submitErrorMessage&&(this._submitErrorMessage.textContent=super.dataContext.errorMessage);break;case"isBusy":var e=super.dataContext.isBusy;this._setFormBusyState(e),Object(o.a)(this._showPairedPopupButton,!e);break;case"isShown":this._updatePopupVisibility(super.dataContext.isShown)}}_resetForm(){this._form&&(this._submitErrorMessage.textContent="",this._setFormBusyState(!1),this._form.reset(),this._formValidator.resetErrors())}_setFormBusyState(t){this._formValidator&&this._formValidator.setFormBusyState(t,a.a.WAIT_MESSAGE,this._submitButtonNormalText)}_subscribeToUiEvents(){super.htmlMarkup.addEventListener("click",this._onPopupDeviceEvent),document.addEventListener("keyup",this._onPopupDeviceEvent),this._showPairedPopupButton&&this._showPairedPopupButton.addEventListener("click",this._onShowPairedPopupClick)}_unsubscribeFromUiEvents(){super.htmlMarkup.removeEventListener("click",this._onPopupDeviceEvent),document.removeEventListener("keyup",this._onPopupDeviceEvent),this._showPairedPopupButton&&this._showPairedPopupButton.removeEventListener("click",this._onShowPairedPopupClick)}_updatePopupVisibility(t){t?(this._resetForm(),this._subscribeToUiEvents()):this._unsubscribeFromUiEvents(),Object(u.a)(super.htmlMarkup,t,"popup_is-hidden")}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,r){"use strict";r(16),r(17),r(15);var n=r(18),o=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];r.d(e,"a",(function(){return i}));class i extends n.a{constructor(t){super(t)}get description(){return this._model.description||""}get isBusy(){return this._isBusy}set isBusy(t){this._isBusy!==t&&(this._isBusy=t,super.onNotifyPropertyChanged&&(super.onNotifyPropertyChanged("isBusy"),super.onNotifyPropertyChanged("isSaved")))}get publishedAt(){return function(t){if(!t)return"";var e=new Date(t);return"".concat(e.getDate()," ").concat(o["".concat(e.getMonth())],", ").concat(e.getFullYear())}(this._model.publishedAt)}get source(){return this._model.source||""}get title(){return this._model.title||""}get url(){return this._model.url||""}get urlToImage(){return this._model.urlToImage}cleanup(){super.cleanup()}}},function(t,e,r){var n=r(6);t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+n).toString(36)}},function(t,e,r){var n=r(57),o=r(46),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,r){var n=r(13),o=r(75),i=r(31),s=r(28),a=r(45),u=r(5),c=r(72),l=Object.getOwnPropertyDescriptor;e.f=n?l:function(t,e){if(t=s(t),e=a(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n,o=r(7),i=r(124),s=r(63),a=r(33),u=r(89),c=r(59),l=r(47),h=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=n?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(n):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var r=s.length;r--;)delete f.prototype[s[r]];return f()};a[h]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p.prototype=o(t),r=new p,p.prototype=null,r[h]=t):r=f(),void 0===e?r:i(r,e)}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n extends Error{constructor(t,e,r){super(t),this._statusCode=e,this._statusText=r,this._serverMessage=null}get serverMessage(){return this._serverMessage}set serverMessage(t){this._serverMessage=t}get statusCode(){return this._statusCode}set statusCode(t){this._statusCode=statusCode}get statusText(){return this._statusText}set statusText(t){this._statusText=t}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r(99);function n(){localStorage.removeItem("token"),window.location.replace("./")}},function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(18),o=(r(52),r(11),r(21),r(70),r(0)),i=r.n(o),s=r(41),a=r.n(s);class u extends n.a{constructor(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(t),r&&(this._loginPopupViewModel=r,this._loginPopupViewModel.onFormSubmit=this._onLoginFormSubmitHandler.bind(this)),n&&(this._signUpPopupViewModel=n,this._signUpPopupViewModel.onFormSubmit=this._onSignUpFormSubmitHandler.bind(this)),o&&(this._signUpOkPopupViewModel=o),this._mobileMenuPopupViewModel=e,t.onLoginCompleted=this._onLoginCompletedHandler.bind(this),t.onNameLoadCompleted=this._onNameLoadCompletedHandler.bind(this),t.onSignUpCompleted=this._onSignUpCompletedHandler.bind(this)}get onLoginCompleted(){return this._onLoginCompleted}set onLoginCompleted(t){this._onLoginCompleted=t}logoutCommand(){this._model.logout()}showLoginPopupCommand(){this._mobileMenuPopupViewModel.isShown=!1,this._loginPopupViewModel.isShown=!0}get isLoggedIn(){return this._model.isLoggedIn}get userFirstName(){return this._model.name||a.a.DEFAULT_LOUGOUT_MESSAGE}cleanup(){this._loginPopupViewModel&&(this._loginPopupViewModel.onFormSubmit=null,this._loginPopupViewModel.cleanup()),this._signUpPopupViewModel&&(this._signUpPopupViewModel.onFormSubmit=null,this._signUpPopupViewModel.cleanup()),this._signUpOkPopupViewModel&&this._signUpOkPopupViewModel.cleanup(),this._model.onLoginCompleted=null,this._model.onNameLoadCompleted=null,this._model.onSignUpCompleted=null,super.cleanup()}_onLoginCompletedHandler(t){super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isLoggedIn"),this._updatePopup(this._loginPopupViewModel,t.error),null===t.error&&(this._onLoginCompleted&&this._onLoginCompleted(),this._model.loadNameAsync())}_onLoginFormSubmitHandler(t){this._model.loginAsync(t.email,t.password)}_onNameLoadCompletedHandler(t){this.isLoggedIn&&null!==t.error?alert(i.a.HUMAN_READABLE_LOAD_NAME_ERROR):super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("userFirstName")}_onSignUpCompletedHandler(t){this._updatePopup(this._signUpPopupViewModel,t.error)}_onSignUpFormSubmitHandler(t){this._model.signUpAsync(t)}_updatePopup(t,e){if(t){if(t.isBusy=!1,!e)return t.isShown=!1,void(t===this._signUpPopupViewModel&&(this._signUpOkPopupViewModel.isShown=!0));var r=i.a.HUMAN_READABLE_GENERIC_ERROR;t===this._loginPopupViewModel&&401===e.statusCode?r=i.a.HUMAN_READABLE_INVALID_USERNAME_OR_PASSWORD_ERROR:t===this._signUpPopupViewModel&&400===e.statusCode&&(r=i.a.HUMAN_READABLE_EMAIL_TAKEN),t.errorMessage=r}}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));class n{constructor(t,e){this._key=t,this._isAdded=e}get isAdded(){return this._isAdded}get key(){return this._key}}},function(t,e,r){var n={};n[r(2)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(27),o=r(71);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.4",mode:n?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,r){var n=r(1),o=r(12);t.exports=function(t,e){try{o(n,t,e)}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(1),o=r(6),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e,r){var n=r(3);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,r){var n=r(71),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(t){return o.call(t)}),t.exports=n.inspectSource},function(t,e,r){var n=r(79),o=r(63).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n=r(3),o=/#|\.prototype\./,i=function(t,e){var r=a[s(t)];return r==c||r!=u&&("function"==typeof e?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e){t.exports=function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return t}},function(t,e,r){var n=r(7),o=r(84),i=r(34),s=r(37),a=r(85),u=r(86),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,r,l,h){var p,d,f,_,v,m,g,y=s(e,r,l?2:1);if(h)p=t;else{if("function"!=typeof(d=a(t)))throw TypeError("Target is not iterable");if(o(d)){for(f=0,_=i(t.length);_>f;f++)if((v=l?y(n(g=t[f])[0],g[1]):y(t[f]))&&v instanceof c)return v;return new c(!1)}p=d.call(t)}for(m=p.next;!(g=m.call(p)).done;)if("object"==typeof(v=u(p,y,g.value,l))&&v&&v instanceof c)return v;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,r){var n=r(2)("iterator"),o=!1;try{var i=0,s={next:function(){return{done:!!i++}},return:function(){o=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},function(t,e,r){"use strict";var n,o,i=r(98),s=r(131),a=RegExp.prototype.exec,u=String.prototype.replace,c=a,l=(n=/a/,o=/b*/g,a.call(n,"a"),a.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||h)&&(c=function(t){var e,r,n,o,s=this,c=h&&s.sticky,d=i.call(s),f=s.source,_=0,v=t;return c&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),v=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(f="(?: "+f+")",v=" "+v,_++),r=new RegExp("^(?:"+f+")",d)),p&&(r=new RegExp("^"+f+"$(?!\\s)",d)),l&&(e=s.lastIndex),n=a.call(c?r:s,v),c?n?(n.input=n.input.slice(_),n[0]=n[0].slice(_),n.index=s.lastIndex,s.lastIndex+=n[0].length):s.lastIndex=0:l&&n&&(s.lastIndex=s.global?n.index+n[0].length:e),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=c},function(t,e,r){"use strict";var n=r(20),o=r(27),i=r(81),s=r(3),a=r(24),u=r(87),c=r(92),l=r(14);n({target:"Promise",proto:!0,real:!0,forced:!!i&&s((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,a("Promise")),r="function"==typeof t;return this.then(r?function(r){return c(e,t()).then((function(){return r}))}:t,r?function(r){return c(e,t()).then((function(){throw r}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||l(i.prototype,"finally",a("Promise").prototype.finally)},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(8),r(26),r(69),r(39);var n=r(11),o=r(53);class i{constructor(t){this._explorerApi=t,this._isLoggedIn=!1,this._name=null}get isLoggedIn(){return this._isLoggedIn}get name(){return this._name}get onLoginCompleted(){return this._onLoginCompleted}set onLoginCompleted(t){this._onLoginCompleted=t}get onNameLoadCompleted(){return this._onNameLoadCompleted}set onNameLoadCompleted(t){this._onNameLoadCompleted=t}get onSignUpCompleted(){return this._onSignUpCompleted}set onSignUpCompleted(t){this._onSignUpCompleted=t}loadNameAsync(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=new n.a;return this._explorerApi.getProfileAsync().then(t=>{if(!this._isLoggedIn&&(this._isLoggedIn=!0,this._onLoginCompleted)){var r=new n.a;r.data=this._isLoggedIn,this._onLoginCompleted(r)}return this._name=t.data.name,e.data=this._name,e}).catch(r=>{if(401!==r.statusCode||!t)return e.error=r,e;this.logout()}).finally(()=>{this._onNameLoadCompleted&&this._onNameLoadCompleted(e)})}loginAsync(t,e){var r=new n.a;return this._explorerApi.loginAsync(t,e).then(()=>{this._isLoggedIn=!0,r.data=this._isLoggedIn}).catch(t=>{this._isLoggedIn=!1,r.error=t}).finally(()=>{this._onLoginCompleted&&this._onLoginCompleted(r)})}signUpAsync(t){var e=new n.a;return this._explorerApi.signUpAsync(t).then(()=>{e.data=!0}).catch(t=>{e.error=t}).finally(()=>{this._onSignUpCompleted&&this._onSignUpCompleted(e)})}logout(){Object(o.a)()}}},function(t,e,r){var n=r(1),o=r(58),i=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,r){var n=r(13),o=r(3),i=r(59);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(60);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(56),o=r(23),i=r(2)("toStringTag"),s="Arguments"==o(function(){return arguments}());t.exports=n?o:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?r:s?o(e):"Object"==(n=o(e))&&"function"==typeof e.callee?"Arguments":n}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(3),o=r(23),i="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,r){var n=r(5),o=r(117),i=r(48),s=r(9);t.exports=function(t,e){for(var r=o(e),a=s.f,u=i.f,c=0;c<r.length;c++){var l=r[c];n(t,l)||a(t,l,u(e,l))}}},function(t,e,r){var n=r(1);t.exports=n},function(t,e,r){var n=r(5),o=r(28),i=r(118).indexOf,s=r(33);t.exports=function(t,e){var r,a=o(t),u=0,c=[];for(r in a)!n(s,r)&&n(a,r)&&c.push(r);for(;e.length>u;)n(a,r=e[u++])&&(~i(c,r)||c.push(r));return c}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(1);t.exports=n.Promise},function(t,e,r){var n=r(14);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},function(t,e,r){"use strict";var n=r(24),o=r(9),i=r(2),s=r(13),a=i("species");t.exports=function(t){var e=n(t),r=o.f;s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,r){var n=r(2),o=r(36),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},function(t,e,r){var n=r(74),o=r(36),i=r(2)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[n(t)]}},function(t,e,r){var n=r(7);t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var i=t.return;throw void 0!==i&&n(i.call(t)),e}}},function(t,e,r){var n=r(7),o=r(43),i=r(2)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[i])?e:o(r)}},function(t,e,r){var n,o,i,s=r(1),a=r(3),u=r(23),c=r(37),l=r(89),h=r(59),p=r(90),d=s.location,f=s.setImmediate,_=s.clearImmediate,v=s.process,m=s.MessageChannel,g=s.Dispatch,y=0,b={},E=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},S=function(t){return function(){E(t)}},C=function(t){E(t.data)},x=function(t){s.postMessage(t+"",d.protocol+"//"+d.host)};f&&_||(f=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return b[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(y),y},_=function(t){delete b[t]},"process"==u(v)?n=function(t){v.nextTick(S(t))}:g&&g.now?n=function(t){g.now(S(t))}:m&&!p?(i=(o=new m).port2,o.port1.onmessage=C,n=c(i.postMessage,i,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(x)?n="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),E(t)}}:function(t){setTimeout(S(t),0)}:(n=x,s.addEventListener("message",C,!1))),t.exports={set:f,clear:_}},function(t,e,r){var n=r(24);t.exports=n("document","documentElement")},function(t,e,r){var n=r(91);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(t,e,r){var n=r(24);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(7),o=r(6),i=r(93);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise}},function(t,e,r){"use strict";var n=r(43),o=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n})),this.resolve=n(e),this.reject=n(r)};t.exports.f=function(t){return new o(t)}},function(t,e,r){var n=r(23);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(79),o=r(63);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,r){var n=r(2);e.f=n},function(t,e,r){var n=r(37),o=r(76),i=r(30),s=r(34),a=r(127),u=[].push,c=function(t){var e=1==t,r=2==t,c=3==t,l=4==t,h=6==t,p=5==t||h;return function(d,f,_,v){for(var m,g,y=i(d),b=o(y),E=n(f,_,3),S=s(b.length),C=0,x=v||a,A=e?x(d,S):r?x(d,0):void 0;S>C;C++)if((p||C in b)&&(g=E(m=b[C],C,y),t))if(e)A[C]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return C;case 2:u.call(A,m)}else if(l)return!1;return h?-1:c||l?l:A}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,r){"use strict";var n=r(7);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){"use strict";var n=r(129),o=r(7),i=r(30),s=r(34),a=r(50),u=r(49),c=r(132),l=r(134),h=Math.max,p=Math.min,d=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,_=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(t,e,r,n){var v=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,m=n.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(r,n){var o=u(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,o,n):e.call(String(o),r,n)},function(t,n){if(!v&&m||"string"==typeof n&&-1===n.indexOf(g)){var i=r(e,t,this,n);if(i.done)return i.value}var u=o(t),d=String(this),f="function"==typeof n;f||(n=String(n));var _=u.global;if(_){var b=u.unicode;u.lastIndex=0}for(var E=[];;){var S=l(u,d);if(null===S)break;if(E.push(S),!_)break;""===String(S[0])&&(u.lastIndex=c(d,s(u.lastIndex),b))}for(var C,x="",A=0,w=0;w<E.length;w++){S=E[w];for(var R=String(S[0]),P=h(p(a(S.index),d.length),0),I=[],L=1;L<S.length;L++)I.push(void 0===(C=S[L])?C:String(C));var M=S.groups;if(f){var O=[R].concat(I,P,d);void 0!==M&&O.push(M);var k=String(n.apply(void 0,O))}else k=y(R,d,P,I,M,n);P>=A&&(x+=d.slice(A,P)+k,A=P+R.length)}return x+d.slice(A)}];function y(t,r,n,o,s,a){var u=n+t.length,c=o.length,l=_;return void 0!==s&&(s=i(s),l=f),e.call(a,l,(function(e,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,n);case"'":return r.slice(u);case"<":a=s[i.slice(1,-1)];break;default:var l=+i;if(0===l)return e;if(l>c){var h=d(l/10);return 0===h?e:h<=c?void 0===o[h-1]?i.charAt(1):o[h-1]+i.charAt(1):e}a=o[l-1]}return void 0===a?"":a}))}}))},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){"use strict";var n=r(20),o=r(138),i=r(103),s=r(104),a=r(35),u=r(12),c=r(14),l=r(2),h=r(27),p=r(36),d=r(102),f=d.IteratorPrototype,_=d.BUGGY_SAFARI_ITERATORS,v=l("iterator"),m=function(){return this};t.exports=function(t,e,r,l,d,g,y){o(r,e,l);var b,E,S,C=function(t){if(t===d&&P)return P;if(!_&&t in w)return w[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},x=e+" Iterator",A=!1,w=t.prototype,R=w[v]||w["@@iterator"]||d&&w[d],P=!_&&R||C(d),I="Array"==e&&w.entries||R;if(I&&(b=i(I.call(new t)),f!==Object.prototype&&b.next&&(h||i(b)===f||(s?s(b,f):"function"!=typeof b[v]&&u(b,v,m)),a(b,x,!0,!0),h&&(p[x]=m))),"values"==d&&R&&"values"!==R.name&&(A=!0,P=function(){return R.call(this)}),h&&!y||w[v]===P||u(w,v,P),p[e]=P,d)if(E={values:C("values"),keys:g?P:C("keys"),entries:C("entries")},y)for(S in E)(_||A||!(S in w))&&c(w,S,E[S]);else n({target:e,proto:!0,forced:_||A},E);return E}},function(t,e,r){"use strict";var n,o,i,s=r(103),a=r(12),u=r(5),c=r(2),l=r(27),h=c("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):p=!0),null==n&&(n={}),l||u(n,h)||a(n,h,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},function(t,e,r){var n=r(5),o=r(30),i=r(47),s=r(139),a=i("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,r){var n=r(7),o=r(140);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,i){return n(r),o(i),e?t.call(r,i):r.__proto__=i,r}}():void 0)},function(t,e,r){"use strict";var n=r(141),o=r(144);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,r){var n=r(33),o=r(6),i=r(5),s=r(9).f,a=r(46),u=r(142),c=a("meta"),l=0,h=Object.isExtensible||function(){return!0},p=function(t){s(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,c)){if(!h(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},getWeakData:function(t,e){if(!i(t,c)){if(!h(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},onFreeze:function(t){return u&&d.REQUIRED&&h(t)&&!i(t,c)&&p(t),t}};n[c]=!0},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r(8),r(26);var n=r(0),o=r.n(n),i=r(19);class s{searchAsync(t){var e="https://newsapi.org/v2/everything"+this._buildQueryParams(t);return fetch(e).then(t=>t.ok?t.json():Object(i.a)(t,o.a.SEARCH_ERROR_PREFIX))}_buildQueryParams(t){var e=new Date,r=e.toISOString();e.setDate(e.getDate()-7);var n=e.toISOString();return"?apiKey=".concat("7f192e97d7af4ebfb14a61206ff44b23")+"&pageSize=".concat(100)+"&from=".concat(n)+"&to=".concat(r)+"&q=".concat(encodeURI(t))}}},function(t,e,r){"use strict";r(8),r(26),r(69),r(38);var n=r(15),o=(r(39),r(107),r(11)),i=r(40);r(16),r(17),r(25),r(29);r.d(e,"a",(function(){return s}));class s extends i.a{constructor(t,e){super(t),this._newsApi=e,this._searchPhrase="",this._searchResults=[]}get searchResults(){return this._searchResults}get onSearchCompleted(){return this._onSearchCompleted}set onSearchCompleted(t){this._onSearchCompleted=t}clearArticles(){this._searchResults.forEach(t=>t.cleanup()),this._searchResults=[],super.clearArticles()}searchArticlesAsync(t){this.clearArticles(),this._searchPhrase=t;var e=new o.a;return this._newsApi.searchAsync(t).then(t=>(this._searchResults=function(t,e){var r=[];if(void 0===e||void 0===e.articles||0===e.articles.length)return r;var o=!0,i=!1,s=void 0;try{for(var a,u=e.articles[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value,l=c.title,h=c.description,p=c.url,d=c.urlToImage,f=c.publishedAt,_=c.source.name,v=new n.a(t,l,h,f,_,p,d);r.push(v)}}catch(t){i=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw s}}return r}(this._searchPhrase,t),this._searchResults.forEach(t=>t.onIsSavedChanged=super._articleIsSavedChangedHandler.bind(this)),e.data=this._searchResults,e)).catch(t=>(e.error=t,e)).finally(()=>{this._onSearchCompleted&&this._onSearchCompleted(e)})}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r(16),r(17),r(25),r(105),r(8),r(29),r(44);var n=r(18);r(40),r(108);class o extends n.a{constructor(t){super(t),this._articlesMap=new Map,this._hasArticles=!1,t.onArticleBusyOperationCompleted=this._articleBusyOperationCompletedHandler.bind(this)}get hasArticles(){return this._hasArticles}set hasArticles(t){this._hasArticles!==t&&(this._hasArticles=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("hasArticles"))}addArticle(t,e){this._articlesMap.set(e,t),this.hasArticles=this._articlesMap.size>0,this._onObservableCollectionItemAdded&&setTimeout(()=>{this._onObservableCollectionItemAdded(t)},0)}cleanup(){this._model.onArticleBusyOperationCompleted=null,this.clearArticles(),super.cleanup()}clearArticles(){if(0!==this._articlesMap.size){var t=!0,e=!1,r=void 0;try{for(var n,o=this._articlesMap.values()[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.cleanup()}}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}this._articlesMap.clear(),this._model.clearArticles(),this.hasArticles=!1}}deleteArticle(t){this._articlesMap.get(t).cleanup(),this._articlesMap.delete(t),this.hasArticles=this._articlesMap.size>0}_articleBusyOperationCompletedHandler(t){var e=this._articlesMap.get(t);void 0!==e&&(e.isBusy=!1)}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(42);r(21);class o extends n.a{constructor(t){super(t,document.querySelector("#mobile-menu-popup"),null),this._menuOpenButton=document.querySelector(".menu__image-button"),this._subscribeToUiEvents()}_onMenuOpenButtonClick(){super.dataContext.isShown=!0}_onVmCleanup(){this._unsubscribeFromUiEvents(),super._onVmCleanup()}_subscribeToUiEvents(){this._onMenuOpenButtonClick=this._onMenuOpenButtonClick.bind(this),this._menuOpenButton.addEventListener("click",this._onMenuOpenButtonClick),super._subscribeToUiEvents()}_unsubscribeFromUiEvents(){this._menuOpenButton.removeEventListener("click",this._onMenuOpenButtonClick)}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));r(16),r(17);var n=r(22),o=(r(44),r(4)),i=r(10);class s extends n.a{constructor(t,e){super(t,e),this._busyIndicator=this._htmlMarkup.querySelector(".preloader"),super.subscribeToVmPropertyChanged(this._onVmPropertyChanges.bind(this)),this._bindMarkupToDataContext()}_onVmPropertyChanges(t){switch(t){case"isBusy":this._updateBusyIndicatorVisibility(this._dataContext.isBusy)}}_bindMarkupToDataContext(){var t=super.dataContext,e=super.htmlMarkup;(e.querySelector(".card__link").setAttribute("href",t.url),e.querySelector(".card__date").textContent=t.publishedAt,e.querySelector(".card__title").textContent=t.title,e.querySelector(".card__text").textContent=t.description,e.querySelector(".card__source").textContent=t.source,t.urlToImage)&&(e.querySelector(".card__image").style.backgroundImage="url(".concat(t.urlToImage,")"))}_updateBusyIndicatorVisibility(t){var e=this._deleteButton||this._bookmarkButton;Object(o.a)(e,!t),Object(i.a)(this._busyIndicator,t,"preloader_is-hidden")}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r(145),r(38);var n=r(22),o=(r(54),r(10));class i extends n.a{constructor(t){super(t,document),super.subscribeToCleanup(this._onVmCleanup.bind(this)),super.subscribeToVmPropertyChanged(this._onVmPropertyChanges.bind(this)),this._hiddenMenuItems=Array.from(document.getElementsByClassName("menu__item_is-hidden")),this._nameHolders=Array.from(document.getElementsByClassName("menu__username")),this._headerLogoutButton=document.querySelector("#headerLogoutButton"),this._headerLoginButton=document.querySelector("#headerLoginButton"),this._mobileMenuLogoutButton=document.querySelector("#mobileMenuLogoutButton"),this._mobileMenuLoginButton=document.querySelector("#mobileMenuLoginButton"),this._subscribeToUiEvents()}_onLoginButtonClick(t){this._dataContext.showLoginPopupCommand()}_onLogoutButtonClick(t){super.dataContext.logoutCommand()}_onVmCleanup(){this._unsubscribeFromUiEvents(),super.cleanup()}_onVmPropertyChanges(t){switch(t){case"isLoggedIn":this._showSignedInControls();break;case"userFirstName":this._updateName(super.dataContext.userFirstName)}}_showSignedInControls(){if(super.dataContext.isLoggedIn){Object(o.a)(this._headerLoginButton,!1,"menu__item_is-hidden"),Object(o.a)(this._mobileMenuLoginButton,!1,"menu__item_is-hidden"),this._hiddenMenuItems.forEach(t=>Object(o.a)(t,!0,"menu__item_is-hidden"))}}_subscribeToUiEvents(){this._onLoginButtonClick=this._onLoginButtonClick.bind(this),this._headerLoginButton.addEventListener("click",this._onLoginButtonClick),this._mobileMenuLoginButton.addEventListener("click",this._onLoginButtonClick),this._onLogoutButtonClick=this._onLogoutButtonClick.bind(this),this._headerLogoutButton.addEventListener("click",this._onLogoutButtonClick),this._mobileMenuLogoutButton.addEventListener("click",this._onLogoutButtonClick)}_unsubscribeFromUiEvents(){this._headerLoginButton.removeEventListener("click",this._onLoginButtonClick),this._mobileMenuLoginButton.removeEventListener("click",this._onLoginButtonClick),this._headerLogoutButton.removeEventListener("click",this._onLogoutButtonClick),this._mobileMenuLogoutButton.removeEventListener("click",this._onLogoutButtonClick)}_updateName(t){this._nameHolders.forEach(e=>e.textContent=t)}}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(3);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){var n=r(1),o=r(61),i=n.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,r){"use strict";var n=r(56),o=r(74);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,r){var n=r(24),o=r(62),i=r(80),s=r(7);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=i.f;return r?e.concat(r(t)):e}},function(t,e,r){var n=r(28),o=r(34),i=r(119),s=function(t){return function(e,r,s){var a,u=n(e),c=o(u.length),l=i(s,c);if(t&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e,r){var n=r(50),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},function(t,e,r){var n,o,i,s,a,u,c,l,h=r(1),p=r(48).f,d=r(23),f=r(88).set,_=r(90),v=h.MutationObserver||h.WebKitMutationObserver,m=h.process,g=h.Promise,y="process"==d(m),b=p(h,"queueMicrotask"),E=b&&b.value;E||(n=function(){var t,e;for(y&&(t=m.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?s():i=void 0,t}}i=void 0,t&&t.enter()},y?s=function(){m.nextTick(n)}:v&&!_?(a=!0,u=document.createTextNode(""),new v(n).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):g&&g.resolve?(c=g.resolve(void 0),l=c.then,s=function(){l.call(c,n)}):s=function(){f.call(h,n)}),t.exports=E||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e}},function(t,e,r){var n=r(1);t.exports=function(t,e){var r=n.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,r){var n,o,i=r(1),s=r(91),a=i.process,u=a&&a.versions,c=u&&u.v8;c?o=(n=c.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=n[1]),t.exports=o&&+o},function(t,e,r){var n=r(13),o=r(9),i=r(7),s=r(95);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=s(e),a=n.length,u=0;a>u;)o.f(t,r=n[u++],e[r]);return t}},function(t,e,r){var n=r(28),o=r(62).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return s.slice()}}(t):o(n(t))}},function(t,e,r){var n=r(78),o=r(5),i=r(96),s=r(9).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)})}},function(t,e,r){var n=r(6),o=r(94),i=r(2)("species");t.exports=function(t,e){var r;return o(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},function(t,e,r){"use strict";var n=r(14),o=r(7),i=r(3),s=r(98),a=RegExp.prototype,u=a.toString,c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&n(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),r=t.flags;return"/"+e+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in a)?s.call(t):r)}),{unsafe:!0})},function(t,e,r){"use strict";r(130);var n=r(14),o=r(3),i=r(2),s=r(68),a=r(12),u=i("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l="$0"==="a".replace(/./,"$0"),h=i("replace"),p=!!/./[h]&&""===/./[h]("a","$0"),d=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,h){var f=i(t),_=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=_&&!o((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!_||!v||"replace"===t&&(!c||!l||p)||"split"===t&&!d){var m=/./[f],g=r(f,""[t],(function(t,e,r,n,o){return e.exec===s?_&&!o?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),y=g[0],b=g[1];n(String.prototype,t,y),n(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}h&&a(RegExp.prototype[f],"sham",!0)}},function(t,e,r){"use strict";var n=r(20),o=r(68);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,r){"use strict";var n=r(3);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,r){"use strict";var n=r(133).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n=r(50),o=r(49),i=function(t){return function(e,r){var i,s,a=String(o(e)),u=n(r),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u))<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,r){var n=r(23),o=r(68);t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var i=r.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,r){"use strict";var n=r(97).forEach,o=r(114),i=r(136),s=o("forEach"),a=i("forEach");t.exports=s&&a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){var n=r(13),o=r(3),i=r(5),s=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(i(a,t))return a[t];e||(e={});var r=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:u,h=i(e,1)?e[1]:void 0;return a[t]=!!r&&!o((function(){if(c&&!n)return!0;var t={length:-1};c?s(t,1,{enumerable:!0,get:u}):t[1]=1,r.call(t,l,h)}))}},function(t,e,r){var n=r(2),o=r(51),i=r(9),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,r){"use strict";var n=r(102).IteratorPrototype,o=r(51),i=r(31),s=r(35),a=r(36),u=function(){return this};t.exports=function(t,e,r){var c=e+" Iterator";return t.prototype=o(n,{next:i(1,r)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,r){var n=r(3);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(6);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,r){"use strict";var n=r(20),o=r(1),i=r(64),s=r(14),a=r(106),u=r(66),c=r(65),l=r(6),h=r(3),p=r(67),d=r(35),f=r(143);t.exports=function(t,e,r){var _=-1!==t.indexOf("Map"),v=-1!==t.indexOf("Weak"),m=_?"set":"add",g=o[t],y=g&&g.prototype,b=g,E={},S=function(t){var e=y[t];s(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:function(t,r){return e.call(this,0===t?0:t,r),this})};if(i(t,"function"!=typeof g||!(v||y.forEach&&!h((function(){(new g).entries().next()})))))b=r.getConstructor(e,t,_,m),a.REQUIRED=!0;else if(i(t,!0)){var C=new b,x=C[m](v?{}:-0,1)!=C,A=h((function(){C.has(1)})),w=p((function(t){new g(t)})),R=!v&&h((function(){for(var t=new g,e=5;e--;)t[m](e,e);return!t.has(-0)}));w||((b=e((function(e,r){c(e,b,t);var n=f(new g,e,b);return null!=r&&u(r,n[m],n,_),n}))).prototype=y,y.constructor=b),(A||R)&&(S("delete"),S("has"),_&&S("get")),(R||x)&&S(m),v&&y.clear&&delete y.clear}return E[t]=b,n({global:!0,forced:b!=g},E),d(b,t),v||r.setStrong(b,t,_),b}},function(t,e,r){var n=r(3);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,r){var n=r(6),o=r(104);t.exports=function(t,e,r){var i,s;return o&&"function"==typeof(i=e.constructor)&&i!==r&&n(s=i.prototype)&&s!==r.prototype&&o(t,s),t}},function(t,e,r){"use strict";var n=r(9).f,o=r(51),i=r(82),s=r(37),a=r(65),u=r(66),c=r(101),l=r(83),h=r(13),p=r(106).fastKey,d=r(32),f=d.set,_=d.getterFor;t.exports={getConstructor:function(t,e,r,c){var l=t((function(t,n){a(t,l,e),f(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=n&&u(n,t[c],t,r)})),d=_(e),v=function(t,e,r){var n,o,i=d(t),s=m(t,e);return s?s.value=r:(i.last=s={index:o=p(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=s),n&&(n.next=s),h?i.size++:t.size++,"F"!==o&&(i.index[o]=s)),t},m=function(t,e){var r,n=d(t),o=p(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return i(l.prototype,{clear:function(){for(var t=d(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=d(this),r=m(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),h?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=d(this),n=s(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),i(l.prototype,r?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return v(this,0===t?0:t,e)}}:{add:function(t){return v(this,t=0===t?0:t,t)}}),h&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",o=_(e),i=_(n);c(t,e,(function(t,e){f(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},function(t,e,r){var n=r(20),o=r(146);n({target:"Array",stat:!0,forced:!r(67)((function(t){Array.from(t)}))},{from:o})},function(t,e,r){"use strict";var n=r(37),o=r(30),i=r(86),s=r(84),a=r(34),u=r(147),c=r(85);t.exports=function(t){var e,r,l,h,p,d,f=o(t),_="function"==typeof this?this:Array,v=arguments.length,m=v>1?arguments[1]:void 0,g=void 0!==m,y=c(f),b=0;if(g&&(m=n(m,v>2?arguments[2]:void 0,2)),null==y||_==Array&&s(y))for(r=new _(e=a(f.length));e>b;b++)d=g?m(f[b],b):f[b],u(r,b,d);else for(p=(h=y.call(f)).next,r=new _;!(l=p.call(h)).done;b++)d=g?i(h,m,[l.value,b],!0):l.value,u(r,b,d);return r.length=b,r}},function(t,e,r){"use strict";var n=r(45),o=r(9),i=r(31);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r}},function(t,e,r){},,,,function(t,e,r){"use strict";r.r(e);r(148);var n=r(39),o=r(107),i=r(70),s=r(108),a=r(21),u=(r(16),r(17),r(25),r(8),r(38),r(29),r(109)),c=(r(15),r(44));class l extends c.a{constructor(t,e){super(t),this._hasNotLoggedInTooltip=!e}get hasNotLoggedInTooltip(){return this._hasNotLoggedInTooltip}set hasNotLoggedInTooltip(t){this._hasNotLoggedInTooltip!==t&&(this._hasNotLoggedInTooltip=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("hasNotLoggedInTooltip"))}get isSaved(){return this._model.isSaved}set isSaved(t){this._model.isSaved===t||this._hasNotLoggedInTooltip||(this._model.isSaved=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isSaved"))}toggleIsSavedCommand(){super.isBusy=!0,this.isSaved=!this.isSaved}cleanup(){super.cleanup()}}var h=r(54),p=(r(40),r(11),r(0)),d=r.n(p);class f extends u.a{constructor(t,e){super(t),this._userViewModel=e,this._isBusy=!1,this._isMoreNewsButtonVisibile=!1,this._isNoResultsImageVisible=!1,this._searchErrorMessage="",t.onSearchCompleted=this._searchCompletedCompletedHandler.bind(this),e.onLoginCompleted=this._onLoginCompletedHandler.bind(this)}get isBusy(){return this._isBusy}set isBusy(t){this._isBusy!==t&&(this._isBusy=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isBusy"))}get isSearchErrorMessageVisible(){return""!==this._searchErrorMessage}get isMoreNewsButtonVisibile(){return this._isMoreNewsButtonVisibile}set isMoreNewsButtonVisibile(t){this._isMoreNewsButtonVisibile!==t&&(this._isMoreNewsButtonVisibile=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isMoreNewsButtonVisibile"))}get isNoResultsImageVisible(){return this._isNoResultsImageVisible}set isNoResultsImageVisible(t){this._isNoResultsImageVisible!==t&&(this._isNoResultsImageVisible=t,super.onNotifyPropertyChanged&&super.onNotifyPropertyChanged("isNoResultsImageVisible"))}get searchErrorMessage(){return this._searchErrorMessage}set searchErrorMessage(t){this._searchErrorMessage!==t&&(this._searchErrorMessage=t,super.onNotifyPropertyChanged&&(super.onNotifyPropertyChanged("searchErrorMessage"),super.onNotifyPropertyChanged("isSearchErrorMessageVisible")))}searchCommand(t){this.isMoreNewsButtonVisibile=!1,this.isNoResultsImageVisible=!1,this.searchErrorMessage="",this.isBusy=!0,super.clearArticles(),this._model.searchArticlesAsync(t)}showMoreNewsCommand(){if(this._articlesMap.size!==this._model.searchResults.length){var t=this._articlesMap.size,e=t+3;this._model.searchResults.slice(t,e).forEach(t=>{var e=new l(t,this._userViewModel.isLoggedIn);super.addArticle(e,t.articleId)}),this.isMoreNewsButtonVisibile=e<this._model.searchResults.length}}cleanup(){this._model.onSearchCompleted=null,this._userViewModel.onLoginCompleted=null,this._userViewModel=null,super.cleanup()}_onLoginCompletedHandler(){if(0!==this._articlesMap.size){var t=!0,e=!1,r=void 0;try{for(var n,o=this._articlesMap.values()[Symbol.iterator]();!(t=(n=o.next()).done);t=!0){n.value.hasNotLoggedInTooltip=!1}}catch(t){e=!0,r=t}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}}}_searchCompletedCompletedHandler(t){this.isBusy=!1,null===t.error?(this.searchErrorMessage="",0!==this._model.searchResults.length?this.showMoreNewsCommand():this.isNoResultsImageVisible=!0):this.searchErrorMessage=d.a.HUMAN_READABLE_SEARCH_ERROR}}var _=r(42);class v extends _.a{constructor(t){var e=document.querySelector("#login-popup"),r=e.querySelector(".popup__form");super(t,e,r),super.subscribeToCleanup(this._onVmCleanup.bind(this)),this._subscribeToUiEvents()}_onFormSubmit(t){t.preventDefault();var e={email:this._form.elements.email.value,password:this._form.elements.password.value};super.dataContext.submitCommand(e)}_onVmCleanup(){this._unsubscribeFromUiEvents(),super._onVmCleanup()}_subscribeToUiEvents(){this._onFormSubmit=this._onFormSubmit.bind(this),this._form.addEventListener("submit",this._onFormSubmit),super._subscribeToUiEvents()}_unsubscribeFromUiEvents(){this._form.removeEventListener("submit",this._onFormSubmit)}}var m=r(110),g=r(22),y=r(111),b=r(4),E=r(10),S=document.querySelector("#search-article-template").content.querySelector(".card");class C extends y.a{constructor(t){super(t,S.cloneNode(!0)),super.subscribeToCleanup(this._onVmCleanup.bind(this)),this._bookmarkButton=this._htmlMarkup.querySelector(".card__bookmark-button"),this._notLoggedInTooltip=this._htmlMarkup.querySelector(".card__tooltip"),this._updateNotLoggedInTooltipVisibility(t.hasNotLoggedInTooltip),this._subscribeToUiEvents()}_onBookmarkButtonClick(t){super.dataContext.toggleIsSavedCommand(),t.stopPropagation()}_onVmCleanup(){this._unsubscribeFromUiEvents(),super.cleanup()}_onVmPropertyChanges(t){switch(t){case"isSaved":this._updateBookmarkIcon(this._dataContext.isSaved);break;case"hasNotLoggedInTooltip":this._updateNotLoggedInTooltipVisibility(this._dataContext.hasNotLoggedInTooltip)}super._onVmPropertyChanges(t)}_subscribeToUiEvents(){this._onBookmarkButtonClick=this._onBookmarkButtonClick.bind(this),this._bookmarkButton.addEventListener("click",this._onBookmarkButtonClick)}_unsubscribeFromUiEvents(){this._bookmarkButton.removeEventListener("click",this._onBookmarkButtonClick)}_updateBookmarkIcon(t){t?(this._bookmarkButton.classList.remove("card__bookmark-button_state_not-marked"),this._bookmarkButton.classList.add("card__bookmark-button_state_marked")):(this._bookmarkButton.classList.add("card__bookmark-button_state_not-marked"),this._bookmarkButton.classList.remove("card__bookmark-button_state_marked"))}_updateNotLoggedInTooltipVisibility(t){Object(b.a)(this._bookmarkButton,!t),Object(E.a)(this._notLoggedInTooltip,t,"card__tooltip_is-hidden")}}class x extends g.a{constructor(t){super(t,document.querySelector(".cards-container")),super.subscribeToCleanup(this._onVmCleanup.bind(this)),super.subscribeToVmPropertyChanged(this._onVmPropertyChanges.bind(this)),super.subscribeToVmCollectionItemAdded(this._onVmCollectionItemAdded.bind(this)),this._searchButton=document.querySelector(".search__button"),this._searchButtonOriginalContent=this._searchButton.textContent,this._searchField=document.querySelector(".search__field"),this._searchResults=document.querySelector(".search-results"),this._noResultsImage=this._searchResults.querySelector(".not-found"),this._preloader=this._searchResults.querySelector(".search-results__preloader"),this._showMoreResultsButton=this._searchResults.querySelector(".search-results__load-button"),this._searchResultsError=this._searchResults.querySelector(".search-results__error"),this._subscribeToUiEvents()}_onSearchButtonClick(t){t.preventDefault();var e=this._searchField.value;if(e.length<2)return this._searchButton.textContent=d.a.HUMAN_READABLE_SEARCH_PHRASE_EMPTY,void setTimeout(()=>{this._searchButton.textContent=this._searchButtonOriginalContent},2e3);this._searchResults.classList.remove("search-results_is-hidden"),super.dataContext.searchCommand(e)}_onShowMoreResultsButtonClick(t){super.dataContext.showMoreNewsCommand()}_onVmCleanup(){this._unsubscribeFromUiEvents(),super.cleanup()}_onVmCollectionItemAdded(t){var e=new C(t);super.htmlMarkup.append(e.htmlMarkup)}_onVmPropertyChanges(t){switch(t){case"isBusy":var e=super.dataContext.isBusy;Object(b.a)(this._searchField,!e),Object(b.a)(this._searchButton,!e),Object(E.a)(this._preloader,e,"preloader_is-hidden");break;case"isMoreNewsButtonVisibile":Object(E.a)(this._showMoreResultsButton,super.dataContext.isMoreNewsButtonVisibile,"search-results__load-button_is-hidden");break;case"isNoResultsImageVisible":Object(E.a)(this._noResultsImage,super.dataContext.isNoResultsImageVisible,"not-found_is-hidden");break;case"isSearchErrorMessageVisible":Object(E.a)(this._searchResultsError,super.dataContext.isSearchErrorMessageVisible,"search-results__error_is-hidden");break;case"searchErrorMessage":this._searchResultsError.textContent=super.dataContext.searchErrorMessage}}_subscribeToUiEvents(){this._onSearchButtonClick=this._onSearchButtonClick.bind(this),this._searchButton.addEventListener("click",this._onSearchButtonClick),this._onShowMoreResultsButtonClick=this._onShowMoreResultsButtonClick.bind(this),this._showMoreResultsButton.addEventListener("click",this._onShowMoreResultsButtonClick)}_unsubscribeFromUiEvents(){this._searchButton.removeEventListener("click",this._onSearchButtonClick),this._showMoreResultsButton.removeEventListener("click",this._onShowMoreResultsButtonClick)}}class A extends _.a{constructor(t){var e=document.querySelector("#signup-popup"),r=e.querySelector(".popup__form");super(t,e,r),super.subscribeToCleanup(this._onVmCleanup.bind(this)),this._subscribeToUiEvents()}_onFormSubmit(t){t.preventDefault();var e={email:this._form.elements.email.value,name:this._form.elements.firstName.value,password:this._form.elements.password.value};super.dataContext.submitCommand(e)}_onVmCleanup(){this._unsubscribeFromUiEvents(),super._onVmCleanup()}_subscribeToUiEvents(){this._onFormSubmit=this._onFormSubmit.bind(this),this._form.addEventListener("submit",this._onFormSubmit),super._subscribeToUiEvents()}_unsubscribeFromUiEvents(){this._form.removeEventListener("submit",this._onFormSubmit)}}class w extends _.a{constructor(t){super(t,document.querySelector("#signup-ok-popup"),null)}}var R=r(112),P=new n.a,I=new o.a,L=new a.a,M=(new A(L),new a.a(L)),O=(new v(M),new a.a(M));new w(O);L.pairedPopup=M;var k=new a.a,B=(new m.a(k),new i.a(P)),T=new h.a(B,k,M,L,O);new R.a(T),new x(new f(new s.a(P,I),T));B.loadNameAsync(!1)}]);